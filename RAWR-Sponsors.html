<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RAWR Sponsors Browser Source</title>
<style>
    /* Reset everything and make background transparent for OBS */
    html, body {
        margin: 0;
        padding: 0;
        background: transparent;
        overflow: hidden;
        height: 100%;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }

    /* Container to hold all sponsor logos */
    #container {
        position: relative;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Each logo image */
    img {
        width: 70%;
        height: auto;
        object-fit: contain;
        position: absolute; /* stack logos */
        opacity: 0;          /* start hidden */
        transition: opacity 1s ease-in-out; /* smooth fade */
    }

    /* Currently visible logo */
    .visible {
        opacity: 1;
    }
</style>
</head>
<body>
<div id="container"></div>

<script>
const displayTime = 5000; // 5 seconds per sponsor
const assetsPath = 'https://kingkrazey.github.io/RAWR/assets/'; // GitHub Pages folder
const jsonURL = 'https://kingkrazey.github.io/RAWR/sponsors.json?_=' + Date.now();

const container = document.getElementById('container');

async function loadSponsors() {
    try {
        // Fetch the list of sponsor images
        const response = await fetch(jsonURL);
        const sponsorFiles = await response.json();

        // Create img elements for each sponsor
        const images = sponsorFiles.map(filename => {
            const img = document.createElement('img');
            img.src = assetsPath + filename;
            img.alt = '';
            container.appendChild(img);
            return img;
        });

        let currentIndex = 0;

        // Show a specific logo
        function showImage(index) {
            images.forEach((img, i) => img.classList.toggle('visible', i === index));
        }

        // Move to the next logo
        function nextImage() {
            currentIndex = (currentIndex + 1) % images.length;
            showImage(currentIndex);
        }

        // Show the first logo
        showImage(currentIndex);

        // Rotate logos automatically
        setInterval(nextImage, displayTime);

    } catch (error) {
        console.error('Error loading sponsors.json:', error);
    }
}

// Start everything
loadSponsors();
</script>
</body>
</html>
